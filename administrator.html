<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css">
    <link rel="shortcut icon" href="imagens/logotipo.png" type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portal Administrativo - PMERJ</title>
</head>

<body>
    <div class="containerLogin" id="containerLogin">
        <a href="index.html" id="returnHome">Voltar ao Inicio</a>
        <form action="" onsubmit="sendLogin(event)">
            <div class="campusLogin">
                <h1 style="font-size: 2rem;">Fazer Login Admnistrativo - PMERJ</h1>
                <div class="question">
                    <span>Usuario</span><br>
                    <input type="text" id="usuario" placeholder="Digite seu Usuario">
                </div>
    
                <div class="question">
                    <span>Senha</span><br>
                    <input type="password" id="senha" placeholder="Senha">
                </div>

                <button type="submit">Fazer Login</button>
            </div>
        </form>
    </div>

    <div class="containerGeneral" id="containerGeneral" style="display: none;">
        <div class="header">
            <div class="group1">
                <img src="https://cdn.discordapp.com/attachments/1127720158555807854/1135035091169595562/logo-pmerj.png" alt="">
                <a  href="index.html" id="optionLink">Inicio</a>
                <a href="https://discord.gg/pmerjnexusrj" id="optionLink" class="discord">Discord</a>
                <a href="https://pro5m-bot.com/redirect/nexusrp2/fivem/" id="optionLink" class="connectFiveM" >FiveM</a>
                <a style="color: white;"href="administrator.html" id="optionLink" class="admnistrator">Administrador</a>
                <a href="commandUp.html" id="optionLink" class="commandUp">Alto Comando</a>
            </div>
    
            <div class="group2">
                <img src="https://cdn.discordapp.com/attachments/1127720158555807854/1135035091400265748/pesquisa.png" alt="">
                <img src="https://cdn.discordapp.com/attachments/1127720158555807854/1135035091639349408/sino.png" alt="">
                <button id="logoff" onclick="logoff()"><img src="https://cdn.discordapp.com/attachments/1127720158555807854/1135313912762482798/logoff.png" alt=""></button>
                <img src="https://cdn.discordapp.com/attachments/1127720158555807854/1135035991938301962/account.png" alt="">
            
            </div>
        </div>
        <div class="container">
            <h1>Links & Ferramentas</h1>
            <div class="containerOptions">
                <a href="avaliacao-pmerj.html"><img src="imagens/image0.png" alt="Hierarquia"></a>
                <a href="recrutamento.html"><img src="imagens/image2.png" alt="Recrutamento"></a>
                <a href="relatorioptr.html"><img src="imagens/image3.png" alt="Relatorio de Patrulha"></a>
                <a href="calculadora.html"><img src="imagens/image4.png" alt="Calculadora Penal"></a>
                <a href="guiadorec.html"><img src="imagens/image5.png" alt="Guia do Recruta"></a>
            </div>
    
            <h1>Avisos Importantes</h1>
            <p>Prezados usuários, <br><br>
    
                É com grande satisfação que informamos sobre a criação deste novo campo de "Avisos Importantes" em nossa plataforma. Aqui, você encontrará informações cruciais, atualizações relevantes e links importantes que podem impactar o funcionamento e a experiência do nosso serviço.</p>
        </div>
    </div>
    <script>
 // Função para verificar se o usuário já está logado
 function checkSession() {
        const sessionExists = localStorage.getItem('sessionAdministrador');

        if (sessionExists) {
            const login = document.getElementById('containerLogin');
            const containerGeneral = document.getElementById('containerGeneral');
            login.style.display = 'none';
            containerGeneral.style.display = 'block';
        }
        }

        // Função para fazer o login
        async function sendLogin(ev) {
        ev.preventDefault();
        const login = document.getElementById('containerLogin');
        const containerGeneral = document.getElementById('containerGeneral');
        const usuario = document.getElementById('usuario').value;
        const senha = document.getElementById('senha').value;

        const usuarioL = 'Administrador';
        const senhaL = '9m3rJ_@dm';

        if (usuario === usuarioL && senha === senhaL) {
            // Login bem-sucedido, armazenar sessão no localStorage
            localStorage.setItem('sessionAdministrador', 'true');
            login.style.display = 'none';
            containerGeneral.style.display = 'block';
        } else {
            alert('Usuário ou senha incorretos. Tente novamente.');
        }
        }

        // Função para fazer logoff
        function logoff() {
        localStorage.removeItem('sessionAdministrador');
        const login = document.getElementById('containerLogin');
        const containerGeneral = document.getElementById('containerGeneral');
        login.style.display = 'flex';
        containerGeneral.style.display = 'none';
        }


        // Ao carregar a página, verifica se já existe uma sessão e mostra o conteúdo correto
        window.onload = checkSession;
    </script>
</body>
</html>
